(self.webpackChunkmanifold_docusaurus=self.webpackChunkmanifold_docusaurus||[]).push([[3319],{8215:function(e,t,n){"use strict";var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:i},t)}},1395:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(7294),i=n(944),o=n(6010),s="tabItem_1uMI",r="tabItemActive_2DSg";var l=37,c=39;var d=function(e){var t=e.lazy,n=e.block,d=e.defaultValue,u=e.values,p=e.groupId,m=e.className,h=(0,i.Z)(),E=h.tabGroupChoices,f=h.setTabGroupChoices,k=(0,a.useState)(d),N=k[0],I=k[1],g=a.Children.toArray(e.children),v=[];if(null!=p){var R=E[p];null!=R&&R!==N&&u.some((function(e){return e.value===R}))&&I(R)}var b=function(e){var t=e.currentTarget,n=v.indexOf(t),a=u[n].value;I(a),null!=p&&(f(p,a),setTimeout((function(){var e,n,a,i,o,s,l,c;(e=t.getBoundingClientRect(),n=e.top,a=e.left,i=e.bottom,o=e.right,s=window,l=s.innerHeight,c=s.innerWidth,n>=0&&o<=c&&i<=l&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(r),setTimeout((function(){return t.classList.remove(r)}),2e3))}),150))},T=function(e){var t,n;switch(e.keyCode){case c:var a=v.indexOf(e.target)+1;n=v[a]||v[0];break;case l:var i=v.indexOf(e.target)-1;n=v[i]||v[v.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},m)},u.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,className:(0,o.Z)("tabs__item",s,{"tabs__item--active":N===t}),key:t,ref:function(e){return v.push(e)},onKeyDown:T,onFocus:b,onClick:b},n)}))),t?(0,a.cloneElement)(g.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},g.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}},7038:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R},frontMatter:function(){return N},metadata:function(){return I},toc:function(){return g}});var a=n(4034),i=n(9973),o=(n(7294),n(3905)),s=n(1395),r=n(8215),l=n(7361),c=n.n(l),d=n(9782),u=n(1100),p=d.default.customFields.data;function m(e,t){return e&&t?p.releases[e][t]:null}function h(e){if(!e)return null;var t=p.releases[e];if(!t)return null;var n=Object.keys(t);return u(n).slice(-1)[0]||null}function E(e,t){return"path"===e?c()(p,t):"highestVersionFor"===e?(n=h(t))?n.startsWith("v")?n:"v"+n:null:"installUrlFor"===e?m(t,h(t)).url:"basenameFor"===e?m(t,h(t)).basename:null;var n}function f(e){var t=e.path,n=e.highestVersionFor;e.installUrlFor;return t?E("path",t):n?E("highestVersionFor",n):null}var k=n(1756),N={id:"installation",title:"Installation",sidebar_label:"Installation"},I={unversionedId:"administering/installation",id:"administering/installation",isDocsHomePage:!1,title:"Installation",description:"Install Strategies",source:"@site/docs/administering/installation.md",sourceDirName:"administering",slug:"/administering/installation",permalink:"/manifold-docusaurus/docs/administering/installation",editUrl:"https://github.com/ManifoldScholar/manifold-docusaurus/edit/master/docs/administering/installation.md",version:"current",sidebar_label:"Installation",frontMatter:{id:"installation",title:"Installation",sidebar_label:"Installation"},sidebar:"docs",previous:{title:"Hosting",permalink:"/manifold-docusaurus/docs/administering/hosting"},next:{title:"Upgrading",permalink:"/manifold-docusaurus/docs/administering/upgrading"}},g=[{value:"Install Strategies",id:"install-strategies",children:[]},{value:"Install Instructions",id:"install-instructions",children:[{value:"Package Install",id:"package-install",children:[]},{value:"Docker Install",id:"docker-install",children:[]},{value:"Source Install",id:"source-install",children:[]}]}],v={toc:g};function R(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"install-strategies"},"Install Strategies"),(0,o.kt)("p",null,"We offer three installation strategies for Manifold:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Install from OS ",(0,o.kt)("strong",{parentName:"li"},"package")),(0,o.kt)("li",{parentName:"ol"},"Install with ",(0,o.kt)("strong",{parentName:"li"},"Docker")," images"),(0,o.kt)("li",{parentName:"ol"},"Install from ",(0,o.kt)("strong",{parentName:"li"},"source"))),(0,o.kt)("p",null,"For package installations, we distribute packages for Ubuntu (18.x and 20.x) and Redhat/CentOS (el7 and el8). The package will install and configure every service needed to run Manifold. You will need root access to the host in order to install Manifold from these packages. This is the fastest, easiest way to install Manifold, but it also is the most intrusive and gives you the least control over the installation. That said, for users who are not familiar with the Manifold technology stack (Rails, Node, ElasticSearch, PostgreSQL, Redis, and Nginx), package installation will be the fastest and simplest approach."),(0,o.kt)("p",null,"When Manifold is installed using Docker, each service runs in its own Docker container and the services are coordinated using Docker compose."),(0,o.kt)("p",null,"We're still working on documentation for installing Manifold from source. For now, this is not an officially supported installation method, but we hope to provide guidance soon."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Manifold is a new piece of software, and we're working hard to refine and improve the installation process. If you run into problems, please don't get frustrated. Let us know in Slack (",(0,o.kt)("a",{parentName:"p",href:"https://manifold-slackin.herokuapp.com/"},"join here"),") or ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ManifoldScholar/manifold/issues/new?template=bugs.md"},"report an issue"),". It's very important to us that Manifold be easy to install, and we appreciate your help as we improve this process."))),(0,o.kt)("h2",{id:"install-instructions"},"Install Instructions"),(0,o.kt)("p",null,"Select the strategy that makes sense for your organization to see the corresponding instructions."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The current recommended Manifold version is ",(0,o.kt)("strong",null,(0,o.kt)(f,{path:"manifoldVersion",mdxType:"Data"})),". Previous releases can be downloaded from the ",(0,o.kt)("a",{parentName:"p",href:"./reference/downloads"},"downloads page"),"."))),(0,o.kt)("h3",{id:"package-install"},"Package Install"),(0,o.kt)("p",null,"The most recent version of Manifold is ",(0,o.kt)(f,{highestVersionFor:"ubuntu18",mdxType:"Data"}),"."),(0,o.kt)("p",null,"As of Manifold v6, we have discontinued support for Ubuntu 16, which is now end of life."),(0,o.kt)("h4",{id:"1-download-the-package"},"1. Download the Package"),(0,o.kt)("p",null,"Shell into the server as root and download the most recent package."),(0,o.kt)(s.Z,{groupId:"install-type",defaultValue:"ubuntu18",values:[{label:"Ubuntu18",value:"ubuntu18"},{label:"Ubuntu16",value:"ubuntu16"},{label:"CentOS 7",value:"centos7"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"ubuntu18",mdxType:"TabItem"},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\ncd ~\ncurl -O "+E("installUrlFor","ubuntu18")+"\n    ").trim())),(0,o.kt)(r.Z,{value:"ubuntu16",mdxType:"TabItem"},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\ncd ~\ncurl -O "+E("installUrlFor","ubuntu16")+"\n    ").trim())),(0,o.kt)(r.Z,{value:"centos7",mdxType:"TabItem"},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\ncd ~\ncurl -O "+E("installUrlFor","centos7")+"\n    ").trim()))),(0,o.kt)("h4",{id:"2-install-the-package"},"2. Install the Package"),(0,o.kt)(s.Z,{groupId:"install-type",defaultValue:"ubuntu18",values:[{label:"Ubuntu18",value:"ubuntu18"},{label:"Ubuntu16",value:"ubuntu16"},{label:"CentOS 7",value:"centos7"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"ubuntu18",mdxType:"TabItem"},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\ncd ~\ndpkg -i "+E("basenameFor","ubuntu18")+"\n    ").trim())),(0,o.kt)(r.Z,{value:"ubuntu16",mdxType:"TabItem"},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\ncd ~\ndpkg -i "+E("basenameFor","ubuntu18")+"\n    ").trim())),(0,o.kt)(r.Z,{value:"centos7",mdxType:"TabItem"},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\ncd ~\nrpm -ivh "+E("basenameFor","centos7")+"\n    ").trim()))),(0,o.kt)("h4",{id:"3-apply-minimal-configuration"},"3. Apply Minimal Configuration"),(0,o.kt)("p",null,"The package installer creates a file at ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/manifold/manifold.rb"),". Use this file to configure and manage the various services that Manifold is composed of. After changing this file, you\u2019ll need to run sudo manifold-ctl reconfigure from the command line so that Manifold picks up the changes and regenerates various configuration files based on the new settings."),(0,o.kt)("p",null,"For now, let\u2019s just make sure Manifold is on the right domain. Open ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/manifold/manifold.rb")," in your preferred text editor (nano, vi, etc.) and look for the external_url setting near the top of the file. Set this to the fully qualified domain name of your Manifold installation, then reconfigure Manifold with the following command. You may be prompted to accept the license. You can scroll through the licenses by pressing space, or \u201cq\u201d to exit the license view. You will need to accept the licenses before proceeding with the installation."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/bin/manifold-ctl reconfigure\n")),(0,o.kt)("p",null,"Once this process is complete, visit the fully qualified domain name in your browser. You should see an empty Manifold home page."),(0,o.kt)("h4",{id:"4-access-the-backend"},"4. Access the Backend"),(0,o.kt)("p",null,"All content stored in Manifold\u2014texts, projects, authors, resources, users, etc\u2014is managed through Manifold\u2019s backend interface. The backend is available at the ",(0,o.kt)("inlineCode",{parentName:"p"},"/backend")," path. For example, if your domain name was your-manifold-domain.tld, you\u2019d access the backend at ",(0,o.kt)("inlineCode",{parentName:"p"},"http://your-manifold-domain.tld/backend"),"."),(0,o.kt)("p",null,"Before you can login to the backend, you will need to make an administrative user. Manifold exposes Rake commands provided by the API Rails application by way of a ",(0,o.kt)("inlineCode",{parentName:"p"},"manifold-api")," executable located at ",(0,o.kt)("inlineCode",{parentName:"p"},"/usr/local/bin/manifold-api"),". This executable includes a command for creating an admin user. Call this command as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'sudo manifold-api manifold:user:create:admin["you@email.com","password","firstName","lastName"]\n')),(0,o.kt)("p",null,"Substitute your email, password, first and last into the command above. If the command succeed, Manifold will let you know. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'manifold@manifold-deb:/etc/manifold# sudo manifold-api manifold:user:create:admin["john@milton.com","Lycidas","John","Milton"]\n    INFO: A User has been created. Its ID is 9b8c863f-60cd-44aa-ad99-dbb842e51aa2\n')),(0,o.kt)("p",null,"Once you\u2019ve created an admin user, click on the avatar icon in the top right corner of the Manifold frontend to login. After logging in successfully, you will see an \u201cadmin mode\u201d button in the header. Click the admin mode button to access the backend."),(0,o.kt)("h3",{id:"docker-install"},"Docker Install"),(0,o.kt)("p",null,"Starting with version 4.0, we publish Docker images alongside our OS packages.\nThese images are published under the ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/u/manifoldscholar"},"manifoldscholar"),"\norganization on hub.docker.com. The Manifold team is happy to accept pull\nrequests and are open to suggestions as to how we can improve our Docker support."),(0,o.kt)("p",null,"The following instructions assume that you've intalled docker and can run both\n",(0,o.kt)("inlineCode",{parentName:"p"},"docker")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose")," from the command line."),(0,o.kt)("p",null,"To begin running Manifold on Docker, clone our docker-compose repository:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/ManifoldScholar/manifold-docker-compose.git\n")),(0,o.kt)("p",null,"The docker-compose.yml file in this repository includes all the services that\nManifold needs to run. For more complex deployments, feel free to use this files\nas a starting point and modify as needed."),(0,o.kt)("p",null,"Before spinning up the containers, modify environment/manifold.env so that it\ncontains the correct IP or domain name for your server. Unless you're just running\nthese locally, you'll need to replace 127.0.0.1 from the following env vars:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'DOMAIN="127.0.0.1:4000"\nCLIENT_BROWSER_API_URL="http://127.0.0.1:4000"\nCLIENT_BROWSER_API_CABLE_URL="http://127.0.0.1:4000/cable"\n')),(0,o.kt)("p",null,"From within that git repository, create and start Manifold containers:"),(0,o.kt)("div",{style:{marginBottom:"var(--ifm-leading)"}},(0,o.kt)(k.Z,{className:"shell",mdxType:"CodeBlock"},("\nMANIFOLD_TAG="+E("path","manifoldVersion")+" docker-compose up -d\n").trim())),(0,o.kt)("p",null,"Access the site in your browser. Be patient, as it might take a minute for services to start."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"http://127.0.0.1:4000\n")),(0,o.kt)("p",null,"Tail container log output (ctrl + c to stop)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose logs -f\n")),(0,o.kt)("p",null,"Restart Manifold containers"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker-compose restart\n")),(0,o.kt)("p",null,"Stop Manifold containers"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker-compose stop\n")),(0,o.kt)("p",null,"Stop and remove Manifold containers"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker-compose down\n")),(0,o.kt)("p",null,"Access the Rails (Manifold API Backend) console"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker exec -it  manifold-docker-compose_api_rails_1 rails console\n")),(0,o.kt)("p",null,"Replace ",(0,o.kt)("inlineCode",{parentName:"p"},"console")," in the above command with other Manifold rake commands. These\ncommands are the same commands that are available in the Omnibus packages, and\nare ",(0,o.kt)("a",{parentName:"p",href:"/docs/administering/reference/api_rake_tasks"},"documented here")),(0,o.kt)("p",null,"Create an admin user"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker exec -it manifold-docker-compose_api_rails_1 \\\nrails manifold:user:create:admin['email@example.com','test123!','First','Last']\n")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"With some terminal configurations don't forget to escape ",(0,o.kt)("inlineCode",{parentName:"em"},"[")," and ",(0,o.kt)("inlineCode",{parentName:"em"},"]")," like ",(0,o.kt)("inlineCode",{parentName:"em"},"\\["),".")),(0,o.kt)("h3",{id:"source-install"},"Source Install"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This section is still a work in progress. Check back soon for instructions on installing from source."))))}R.isMDXComponent=!0},6376:function(e,t,n){const a=n(4225),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(3295),{re:s,t:r}=n(9669),l=n(2893),{compareIdentifiers:c}=n(5638);class d{constructor(e,t){if(t=l(t),e instanceof d){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);a("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[r.LOOSE]:s[r.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(a("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof d||(e=new d(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(a("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(a("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=d},8880:function(e,t,n){const a=n(6376);e.exports=(e,t,n)=>{const i=new a(e,n),o=new a(t,n);return i.compare(o)||i.compareBuild(o)}},1100:function(e,t,n){const a=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>a(e,n,t)))},3295:function(e){const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:function(e){const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},5638:function(e){const t=/^[0-9]+$/,n=(e,n)=>{const a=t.test(e),i=t.test(n);return a&&i&&(e=+e,n=+n),e===n?0:a&&!i?-1:i&&!a?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},2893:function(e){const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},9669:function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:a}=n(3295),i=n(4225),o=(t=e.exports={}).re=[],s=t.src=[],r=t.t={};let l=0;const c=(e,t,n)=>{const a=l++;i(a,t),r[e]=a,s[a]=t,o[a]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[r.NUMERICIDENTIFIER]})\\.(${s[r.NUMERICIDENTIFIER]})\\.(${s[r.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[r.NUMERICIDENTIFIERLOOSE]})\\.(${s[r.NUMERICIDENTIFIERLOOSE]})\\.(${s[r.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[r.NUMERICIDENTIFIER]}|${s[r.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[r.NUMERICIDENTIFIERLOOSE]}|${s[r.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[r.PRERELEASEIDENTIFIER]}(?:\\.${s[r.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[r.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[r.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[r.BUILDIDENTIFIER]}(?:\\.${s[r.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[r.MAINVERSION]}${s[r.PRERELEASE]}?${s[r.BUILD]}?`),c("FULL",`^${s[r.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[r.MAINVERSIONLOOSE]}${s[r.PRERELEASELOOSE]}?${s[r.BUILD]}?`),c("LOOSE",`^${s[r.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[r.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[r.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[r.XRANGEIDENTIFIER]})(?:\\.(${s[r.XRANGEIDENTIFIER]})(?:\\.(${s[r.XRANGEIDENTIFIER]})(?:${s[r.PRERELEASE]})?${s[r.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[r.XRANGEIDENTIFIERLOOSE]})(?:${s[r.PRERELEASELOOSE]})?${s[r.BUILD]}?)?)?`),c("XRANGE",`^${s[r.GTLT]}\\s*${s[r.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[r.GTLT]}\\s*${s[r.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?(?:$|[^\\d])`),c("COERCERTL",s[r.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[r.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${s[r.LONETILDE]}${s[r.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[r.LONETILDE]}${s[r.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[r.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${s[r.LONECARET]}${s[r.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[r.LONECARET]}${s[r.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[r.GTLT]}\\s*(${s[r.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[r.GTLT]}\\s*(${s[r.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[r.GTLT]}\\s*(${s[r.LOOSEPLAIN]}|${s[r.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[r.XRANGEPLAIN]})\\s+-\\s+(${s[r.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[r.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[r.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}}]);