(self.webpackChunkmanifold_docusaurus=self.webpackChunkmanifold_docusaurus||[]).push([[8526],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return g}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),g=a,h=d["".concat(s,".").concat(g)]||d[g]||p[g]||i;return n?o.createElement(h,r(r({ref:t},u),{},{components:n})):o.createElement(h,r({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var c=2;c<i;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6955:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s},default:function(){return u}});var o=n(4034),a=n(9973),i=(n(7294),n(3905)),r={id:"integration_settings",title:"Integration Settings",sidebar_label:"Integration Settings"},l={unversionedId:"administering/configuring/integration_settings",id:"administering/configuring/integration_settings",isDocsHomePage:!1,title:"Integration Settings",description:"The fields discussed in this section can be accessed from the Manifold backend by selecting Settings from the main menu and then Ingestion Settings in the submenu.",source:"@site/docs/administering/configuring/integration_settings.md",sourceDirName:"administering/configuring",slug:"/administering/configuring/integration_settings",permalink:"/manifold-docusaurus/docs/administering/configuring/integration_settings",editUrl:"https://github.com/ManifoldScholar/manifold-docusaurus/edit/master/docs/administering/configuring/integration_settings.md",version:"current",sidebar_label:"Integration Settings",frontMatter:{id:"integration_settings",title:"Integration Settings",sidebar_label:"Integration Settings"},sidebar:"docs",previous:{title:"Theme Settings",permalink:"/manifold-docusaurus/docs/administering/configuring/theme_settings"},next:{title:"Ingestion Settings",permalink:"/manifold-docusaurus/docs/administering/configuring/ingestion_settings"}},s=[{value:"Facebook OAuth",id:"facebook-oauth",children:[]},{value:"Twitter OAuth",id:"twitter-oauth",children:[]},{value:"Google Services",id:"google-services",children:[]},{value:"Google OAuth Configuration",id:"google-oauth-configuration",children:[]},{value:"Google Analytics",id:"google-analytics",children:[]}],c={toc:s};function u(e){var t=e.components,n=(0,a.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{className:"admonition admonition-location"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"location")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The fields discussed in this section can be accessed from the Manifold backend by selecting ",(0,i.kt)("strong",{parentName:"p"},"Settings")," from the main menu and then ",(0,i.kt)("strong",{parentName:"p"},"Ingestion Settings")," in the submenu."),(0,i.kt)("p",{parentName:"div"},"Only users logged in with ",(0,i.kt)("strong",{parentName:"p"},"Admin")," credentials can access this view."))),(0,i.kt)("p",null,"The ",(0,i.kt)("strong",{parentName:"p"},"Integrations")," menu is where Manifold administrators can leverage external services, including Google, Twitter, and Facebook, for third party authentication, social sharing functionality, and to enable text ingestion from Google Docs."),(0,i.kt)("p",null,"By configuring OAuth, your readers can login to Manifold using their Facebook, Twitter, or Google login. Configuring each OAuth Provider involves generating access tokens and storing them in Manifold. Follow the specific instructions for each provider to set this up."),(0,i.kt)("p",null,"Before a publisher can input values into each of these fields, they will first need to set up accounts with Facebook, Twitter, and Google as described here."),(0,i.kt)("h2",{id:"facebook-oauth"},"Facebook OAuth"),(0,i.kt)("p",null,'If the Facebook OAuth Configuration feature is enabled, Manifold will include a "Log in with Facebook" button on the login page. Clicking the button will open a popup that allows users to authenticate using their Facebook account. On successful authentication, Manifold will create a user record (if it is the user\'s first time logging in) and an associated identity record.'),(0,i.kt)("p",null,"These instructions document the process for acquiring OAuth keys from Facebook. It's possible that their process has changed since this was written. If that's the case, please ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ManifoldScholar/manifold-docusaurus/pulls"},"open a pull request")," against our documentation with a correction."),(0,i.kt)("p",null,"To add OAuth support for Facebook to Manifold, you will need a Facebook account, which will allow you to create a Manifold Facebook app. See the ",(0,i.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/apps/register#developer-account"},"Facebook Developer Docs"),"."),(0,i.kt)("p",null,"The Manifold API handles OAuth callbacks. For Facebook, the callback route is located at ",(0,i.kt)("inlineCode",{parentName:"p"},"/auth/facebook/callback"),". For your installation of Manifold, the callback URL will be the fully qualified domain name ","(","FQDN",")"," of the API server followed by that path. For example, if my Manifold API is on the same domain as the client application, and that domain is ",(0,i.kt)("inlineCode",{parentName:"p"},"manifoldapp.org"),", the callback URL would be ",(0,i.kt)("inlineCode",{parentName:"p"},"http://manifoldapp.org/auth/facebook/callback"),'. Enter your Manifold API callback in your Facebook app\'s "Valid OAuth redirect URIs" field.'),(0,i.kt)("p",null,'In Manifold, in "Settings" under "Integrations", below the "Facebook" header, enter your Facebook App ID in the field labeled ',(0,i.kt)("strong",{parentName:"p"},"Facebook App ID"),". Enter the App Secret value into the field labeled ",(0,i.kt)("strong",{parentName:"p"},"Facebook App Secret"),"."),(0,i.kt)("p",null,"Alternatively, if you manage settings in the environment (",(0,i.kt)("inlineCode",{parentName:"p"},"MANAGE_SETTINGS_FROM_ENV=1")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file), you should set the corresponding settings in ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-conf"},"# Facebook OAuth Integration\nMANIFOLD_SETTING_INTEGRATIONS_FACEBOOK_APP_ID=\nMANIFOLD_SETTING_SECRETS_FACEBOOK_APP_SECRET=\n")),(0,i.kt)("h2",{id:"twitter-oauth"},"Twitter OAuth"),(0,i.kt)("p",null,'If this feature is enabled, Manifold will include a "Log in with Twitter" button on the login page. Clicking the button will open a popup that allows users to authenticate using their Twitter account. On successful authentication, Manifold will create a user record (if it is the user\'s first time logging in) and an associated identity record.'),(0,i.kt)("p",null,"These fields are dependent on Twitter's developer APIS. It's possible that their process has changed since this was written. If that's the case, please ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ManifoldScholar/manifold-docs/pulls"},"open a pull request")," against our documentation with a correction."),(0,i.kt)("p",null,"Manifold requires that you havve a Twitter app through the ",(0,i.kt)("a",{parentName:"p",href:"https://apps.twitter.com"},"Twitter App Interface"),"."),(0,i.kt)("p",null,"The Manifold API handles OAuth callbacks. For Twitter, the callback route is located at ",(0,i.kt)("inlineCode",{parentName:"p"},"/auth/twitter/callback"),". For your installation of Manifold, the callback URL will be the fully qualified domain name (FQDN) of the API server followed by that path. For example, if my Manifold API is on the same domain as the client application, and that domain is ",(0,i.kt)("inlineCode",{parentName:"p"},"manifoldapp.org"),", the callback URL would be ",(0,i.kt)("inlineCode",{parentName:"p"},"http://manifoldapp.org/auth/twitter/callback"),"."),(0,i.kt)("p",null,"Manifold Twitter integration takes the Consumer Key/(API Key) and Consumer Secret/(API Secret) generated by your ",(0,i.kt)("a",{parentName:"p",href:"https://apps.twitter.com"},"Twitter App"),' once you have logged into your account and app at and entered the callback URL in the appropriate field on your Twitter App. Your Twitter app should be "Read Only" and should "Request email addresses from users". Enter the Consumer Key into the field labeled ',(0,i.kt)("strong",{parentName:"p"},"Twitter Consumer Key"),". Enter the Consumer secret into the field labeled ",(0,i.kt)("strong",{parentName:"p"},"Twitter Consumer Secret"),"."),(0,i.kt)("p",null,"Alternatively, if you manage settings in the environment (",(0,i.kt)("inlineCode",{parentName:"p"},"MANAGE_SETTINGS_FROM_ENV=1")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file), you should set the corresponding settings in ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"MANIFOLD_SETTING_INTEGRATIONS_TWITTER_APP_ID=\nMANIFOLD_SETTING_SECRETS_TWITTER_APP_SECRET=\n")),(0,i.kt)("h2",{id:"google-services"},"Google Services"),(0,i.kt)("p",null,"By configuring Google Services, a publisher will unlock the ability to import texts from Google Docs into the Manifold reader, import resources in bulk into existing projects (using Google Drive), and leverage Google Analytics to get detailed statistics about reader use and interaction with the Manifold instance. To make it possible for your readers to log into your Manifold instance using their Google credentials, you will need to configure OAuth after you configure Google Services."),(0,i.kt)("p",null,"Manifold requires information from a Google developer account and a Manifold Google project you create through the ",(0,i.kt)("a",{parentName:"p",href:"https://console.developers.google.com/"},"Google Developer Console"),'. From your project, you will need to generate a Credentials Set "Service Account Key" and upload the file. Manifold takes "JSON" key types.'),(0,i.kt)("p",null,"Once you have uploaded the ",(0,i.kt)("inlineCode",{parentName:"p"},"google_service.json")," file generated by your Google Developer project, you can enable the API through the Google Developer Console to complete Google Drive integration."),(0,i.kt)("p",null,'Under the "Google Services Integration" header, uploading the ',(0,i.kt)("inlineCode",{parentName:"p"},"google_service.json")," file will automatically populate the rest of the fields in the section."),(0,i.kt)("p",null,"Alternatively, if you manage settings in the environment ","(",(0,i.kt)("inlineCode",{parentName:"p"},"MANAGE_SETTINGS_FROM_ENV=1")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file",")",", you should set the corresponding settings in ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'# Config Files\nMANIFOLD_SETTING_CONFIG_GOOGLE_SERVICE="/var/opt/manifold/api/keys/google_service.json"\n\n## Google Integration\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_PROJECT_ID=\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_PRIVATE_KEY_ID=\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_CLIENT_EMAIL=\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_CLIENT_ID=\n')),(0,i.kt)("p",null,"If a file path is present at the path set in ",(0,i.kt)("inlineCode",{parentName:"p"},"MANIFOLD_SETTING_CONFIG_GOOGLE_SERVICE"),", values will first be set from this file, then overwritten by any subsequent matching keys."),(0,i.kt)("p",null,"With Google Services configured, you can enable Google OAuth, Google Analytics, and Google Drive on your instance."),(0,i.kt)("h2",{id:"google-oauth-configuration"},"Google OAuth Configuration"),(0,i.kt)("p",null,"If this feature is enabled, Manifold will include a ",(0,i.kt)("strong",{parentName:"p"},"Log in with Google")," button on the login page. Clicking the button will open a popup that allows users to authenticate using their Google account. On successful authentication, Manifold will create a user record (if it is the user\u2019s first time logging in) and an associated identity record."),(0,i.kt)("p",null,"The process for acquiring ",(0,i.kt)("a",{parentName:"p",href:"https://developers.google.com/identity/protocols/oauth2"},"OAuth keys from Google")," may change. If that\u2019s the case, please ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ManifoldScholar/manifold-docusaurus/pulls"},"open a pull request")," against our documentation with a correction."),(0,i.kt)("p",null,"The Manifold API handles OAuth callbacks. For Google, the callback route is located at ",(0,i.kt)("inlineCode",{parentName:"p"},"/auth/google/callback"),". For your installation of Manifold, the callback URL will be the fully qualified domain name (FQDN) of the API server followed by that path. For example, my Manifold API is on the same domain as the client application, and that domain is manifoldapp.org, the callback URL would be ",(0,i.kt)("inlineCode",{parentName:"p"},"http://manifoldapp.org/auth/google/callback"),"."),(0,i.kt)("p",null,"Manifold Google OAuth requires ",(0,i.kt)("strong",{parentName:"p"},"Setup Consent")," configured with your email, your authorized Manifold domain, and the callback URL entered in the ",(0,i.kt)("strong",{parentName:"p"},"Authorized redirect URIs")," field. The Manifold Integration page has fields to input both ",(0,i.kt)("strong",{parentName:"p"},"Client ID")," and ",(0,i.kt)("strong",{parentName:"p"},"Client secret"),"."),(0,i.kt)("p",null,"Alternatively, if you manage settings in the environment (",(0,i.kt)("inlineCode",{parentName:"p"},"MANAGE_SETTINGS_FROM_ENV=1")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},".env file"),"), you should set the corresponding settings in ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# Google OAuth Integration\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_OAUTH_CLIENT_ID=\nMANIFOLD_SETTING_SECRETS_GOOGLE_OAUTH_CLIENT_SECRET=\n")),(0,i.kt)("h2",{id:"google-analytics"},"Google Analytics"),(0,i.kt)("p",null,"Configure this feature to enable analytics reporting to your Google account, and to display analytics data in the Manifold backend. Before using this feature, you must configure Google services."),(0,i.kt)("p",null,"Manifold requires a Universal Authorization code to enable Google Analytics."),(0,i.kt)("p",null,"You will need a new property at ",(0,i.kt)("a",{parentName:"p",href:"https://analytics.google.com"},"Google Analytics")," for your Manifold installation. If you need help, instructions can be found at ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/analytics/answer/1008015?hl=en"},"Analytics Help"),". You need to create a Universal Analytics Property, which requires that you open Advanced Options when you create your property, see this article ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/analytics/answer/10269537#zippy=%2Cadd-the-global-site-tag-directly-to-your-web-pages%2Cadd-the-global-site-tag-to-a-website-builder-or-cms-hosted-website-for-example-wordpress-shopify-etc"},"setting up analytics for a website"),"."),(0,i.kt)("p",null,"Under the ",(0,i.kt)("strong",{parentName:"p"},"Google Analytics")," header, you can enter the value from your Google Analytics property into the corresponding field: ",(0,i.kt)("strong",{parentName:"p"},"Google Analytics Tracking ID"),", including the ",(0,i.kt)("inlineCode",{parentName:"p"},"UA- "),"prefix."),(0,i.kt)("p",null,"Alternatively, if you manage settings in the environment (",(0,i.kt)("inlineCode",{parentName:"p"},"MANAGE_SETTINGS_FROM_ENV=1")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file), you should set the corresponding settings in ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# Google Analytics Integration\nMANIFOLD_SETTING_INTEGRATIONS_GA_TRACKING_ID=\n")))}u.isMDXComponent=!0}}]);